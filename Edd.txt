import os

# Folder containing the HTML files
folder_path = 'ETF Analysis New Viz'

# Your desired display order of files
ordered_files = [
    'sector.html',
    'market_cap.html',
    'top10.html'
]

# Full paths for ordered files
ordered_paths = [os.path.join(folder_path, f) for f in ordered_files]

# Output file
output_file = os.path.join(folder_path, 'combined_etf_analysis.html')

# HTML structure
html_start = """
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Combined ETF Analysis</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
"""

html_end = """
</body>
</html>
"""

# Combine content
with open(output_file, 'w', encoding='utf-8') as outfile:
    outfile.write(html_start)

    for file_path in ordered_paths:
        with open(file_path, 'r', encoding='utf-8') as infile:
            content = infile.read()

            # Extract only the inner <body> contents
            body_start = content.find('<body>')
            body_end = content.find('</body>')

            if body_start != -1 and body_end != -1:
                inner_html = content[body_start + len('<body>'):body_end]
            else:
                inner_html = content  # fallback

            outfile.write(inner_html)
            outfile.write('\n<hr style="margin:40px 0;">\n')  # separator

    outfile.write(html_end)

print(f"âœ… Combined file created: {output_file}")
